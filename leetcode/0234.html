<!DOCTYPE html>
<html lang="en"><head>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Leetcode 0234. Palindrome Linked List | Dmitry Babichev’s webpage</title>
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="Leetcode 0234. Palindrome Linked List" />
<meta name="author" content="Dmitry Babichev" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="https://leetcode.com/problems/palindrome-linked-list" />
<meta property="og:description" content="https://leetcode.com/problems/palindrome-linked-list" />
<meta property="og:site_name" content="Dmitry Babichev’s webpage" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-08-14T19:09:20+02:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Leetcode 0234. Palindrome Linked List" />
<script type="application/ld+json">
{"url":"/leetcode/0234.html","@type":"BlogPosting","headline":"Leetcode 0234. Palindrome Linked List","dateModified":"2021-08-14T19:09:20+02:00","datePublished":"2021-08-14T19:09:20+02:00","mainEntityOfPage":{"@type":"WebPage","@id":"/leetcode/0234.html"},"author":{"@type":"Person","name":"Dmitry Babichev"},"description":"https://leetcode.com/problems/palindrome-linked-list","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="/feed.xml" title="Dmitry Babichev's webpage" />
    






  
  
</head>

    
    <!-- for mathjax support -->
    
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Dmitry Babichev&#39;s webpage</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About</a><a class="page-link" href="/leetcode%20problems/">Leetcode problems</a><a class="page-link" href="/coding%20ideas/">Patterns</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <span>[
  
    
    <a href="/tag/linked list"><code class="highligher-rouge"><nobr>linked list</nobr></code>&nbsp;</a>
  
    
    <a href="/tag/two pointers"><code class="highligher-rouge"><nobr>two pointers</nobr></code>&nbsp;</a>
  
]</span>

<article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Leetcode 0234. Palindrome Linked List</h1>
    <p class="post-meta"><time class="dt-published" datetime="2021-08-14T19:09:20+02:00" itemprop="datePublished">
        Aug 14, 2021
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p><a href="https://leetcode.com/problems/palindrome-linked-list"> <font color="blue">https://leetcode.com/problems/palindrome-linked-list</font></a></p>

<p>If we want to get <code class="language-plaintext highlighter-rouge">O(n)</code> time and <code class="language-plaintext highlighter-rouge">O(1)</code> space complexity, we need to do in in long way:</p>

<ol>
  <li>Find middle of our list, we can do it with two pointers approach: one moving with speed <code class="language-plaintext highlighter-rouge">1</code> and another with speed <code class="language-plaintext highlighter-rouge">2</code> (or alternatively we can just evaluate length and then find middle). At the end of this step <code class="language-plaintext highlighter-rouge">slow</code> pointer will point to the end of first half.</li>
  <li>We need to reverse the second half of our linked list. For this we will use <strong>Problem 206</strong>. Reverse Linked List, the idea is to again use two pointers.</li>
  <li>Traverse in parallel first half and second half and compare element by element. If we have different element, we mark <code class="language-plaintext highlighter-rouge">found = True</code>. We do not return result immedietly, because we changed our list and we want to change it back.</li>
  <li>Reverse back second half of the list, and attach it back to the end of first half.</li>
</ol>

<h4 id="complexity">Complexity</h4>
<p>Time complexity is just <code class="language-plaintext highlighter-rouge">O(n)</code>, however with constant around 5, because we traverse likst several times and inside each traversal we do several operations. This is the reason, why it will not be the fastest solution. Space complexity is just <code class="language-plaintext highlighter-rouge">O(1)</code>, because we reattach already existing nodes.</p>

<h4 id="code">Code</h4>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">isPalindrome</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">head</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">reverse</span><span class="p">(</span><span class="n">head</span><span class="p">):</span>
            <span class="n">curr</span> <span class="o">=</span> <span class="bp">None</span>
            <span class="n">nxt</span> <span class="o">=</span> <span class="n">head</span>
            <span class="k">while</span> <span class="n">nxt</span><span class="p">:</span>
                <span class="n">tmp</span> <span class="o">=</span> <span class="n">nxt</span><span class="p">.</span><span class="nb">next</span>
                <span class="n">nxt</span><span class="p">.</span><span class="nb">next</span> <span class="o">=</span> <span class="n">curr</span>
                <span class="n">curr</span> <span class="o">=</span> <span class="n">nxt</span>
                <span class="n">nxt</span> <span class="o">=</span> <span class="n">tmp</span>
            <span class="k">return</span> <span class="n">curr</span>
        
        <span class="n">fast</span><span class="p">,</span> <span class="n">slow</span> <span class="o">=</span> <span class="n">head</span><span class="p">,</span> <span class="n">head</span>
        <span class="k">while</span> <span class="n">fast</span><span class="p">.</span><span class="nb">next</span> <span class="ow">and</span> <span class="n">fast</span><span class="p">.</span><span class="nb">next</span><span class="p">.</span><span class="nb">next</span><span class="p">:</span>
            <span class="n">fast</span> <span class="o">=</span> <span class="n">fast</span><span class="p">.</span><span class="nb">next</span><span class="p">.</span><span class="nb">next</span>
            <span class="n">slow</span> <span class="o">=</span> <span class="n">slow</span><span class="p">.</span><span class="nb">next</span>
            
        <span class="n">half1</span><span class="p">,</span> <span class="n">half2</span> <span class="o">=</span> <span class="n">head</span><span class="p">,</span> <span class="n">reverse</span><span class="p">(</span><span class="n">slow</span><span class="p">.</span><span class="nb">next</span><span class="p">)</span>
        <span class="n">save</span> <span class="o">=</span> <span class="n">half2</span>
        <span class="n">found</span> <span class="o">=</span> <span class="bp">False</span>
        
        <span class="k">while</span> <span class="n">half1</span> <span class="ow">and</span> <span class="n">half2</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">half1</span><span class="p">.</span><span class="n">val</span> <span class="o">!=</span> <span class="n">half2</span><span class="p">.</span><span class="n">val</span><span class="p">:</span>
                <span class="n">found</span> <span class="o">=</span> <span class="bp">True</span>
                <span class="k">break</span>
            <span class="n">half1</span> <span class="o">=</span> <span class="n">half1</span><span class="p">.</span><span class="nb">next</span>
            <span class="n">half2</span> <span class="o">=</span> <span class="n">half2</span><span class="p">.</span><span class="nb">next</span>
            
        <span class="n">slow</span><span class="p">.</span><span class="nb">next</span> <span class="o">=</span> <span class="n">reverse</span><span class="p">(</span><span class="n">save</span><span class="p">)</span>
        <span class="k">return</span> <span class="ow">not</span> <span class="n">found</span>
</code></pre></div></div>

<p>If you like the solution, you can <strong>upvote</strong> it on leetcode discussion section:<a href="https://leetcode.com/problems/palindrome-linked-list/discuss/1137173/python-o(n)-time-o(1)-space-explained"> <font color="blue">Problem 0234</font></a></p>

  </div><a class="u-url" href="/leetcode/0234.html" hidden></a>
</article>


      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
        <ul class="contact-list">
          <li class="p-name">Dmitry Babichev</li>
          <li><a class="u-email" href="mailto:dimitry008@gmail.com">dimitry008@gmail.com</a></li>
        </ul>
      </div>
      <div class="footer-col">
        <p>Here you can find solution to some algorithmic problems, at the moment it is mainly leetcode problems.
</p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"></ul>
</div>

  </div>

</footer>
</body>

</html>


<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    processEscapes: true
  }
});
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>