<!DOCTYPE html>
<html lang="en"><head>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Leetcode 0128. Longest Consecutive Sequence | Dmitry Babichev’s webpage</title>
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="Leetcode 0128. Longest Consecutive Sequence" />
<meta name="author" content="Dmitry Babichev" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Problem statement" />
<meta property="og:description" content="Problem statement" />
<meta property="og:site_name" content="Dmitry Babichev’s webpage" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-08-14T19:09:20+02:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Leetcode 0128. Longest Consecutive Sequence" />
<script type="application/ld+json">
{"url":"/leetcode/0128.html","@type":"BlogPosting","headline":"Leetcode 0128. Longest Consecutive Sequence","dateModified":"2021-08-14T19:09:20+02:00","datePublished":"2021-08-14T19:09:20+02:00","mainEntityOfPage":{"@type":"WebPage","@id":"/leetcode/0128.html"},"author":{"@type":"Person","name":"Dmitry Babichev"},"description":"Problem statement","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="/feed.xml" title="Dmitry Babichev's webpage" />
    






  
  
</head>

    
    <!-- for mathjax support -->
    
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Dmitry Babichev&#39;s webpage</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About</a><a class="page-link" href="/leetcode%20problems/">Leetcode problems</a><a class="page-link" href="/coding%20ideas/">Patterns</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <span>[
  
    
    <a href="/tag/array"><code class="highligher-rouge"><nobr>array</nobr></code>&nbsp;</a>
  
    
    <a href="/tag/hash table"><code class="highligher-rouge"><nobr>hash table</nobr></code>&nbsp;</a>
  
    
    <a href="/tag/union find"><code class="highligher-rouge"><nobr>union find</nobr></code>&nbsp;</a>
  
]</span>

<article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Leetcode 0128. Longest Consecutive Sequence</h1>
    <p class="post-meta"><time class="dt-published" datetime="2021-08-14T19:09:20+02:00" itemprop="datePublished">
        Aug 14, 2021
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <h4 id="problem-statement">Problem statement</h4>

<p><a href="https://leetcode.com/problems/longest-consecutive-sequence/"> <font color="blue">https://leetcode.com/problems/longest-consecutive-sequence/</font></a></p>

<h4 id="solution">Solution</h4>
<p>One possible solution is to use Union Find, where we keep different sets of consecutive numbers and if needed, we update it, this can be done in <code class="language-plaintext highlighter-rouge">O(n)</code> both time and memory, however it is a bit difficult to implement.</p>

<p>More simple way is to keep all numbers in set, and then try to find the longest group, because we have a quick way to check if given number inside our set or not. Imagine, that we have numbers <code class="language-plaintext highlighter-rouge">1, 100, 2, 3, 101, 6, 5, 4</code> and let us go through the steps of our algorithm to see how it works. The idea is always start with the start of our groups, that is if we have <code class="language-plaintext highlighter-rouge">num - 1</code> in our set, we ignore this number and go to the next.</p>

<ol>
  <li><code class="language-plaintext highlighter-rouge">num = 1</code>, we check <code class="language-plaintext highlighter-rouge">num - 1 = 0</code> is inside our set? No, so we do nothing. Next step is to check if <code class="language-plaintext highlighter-rouge">2</code> is here, then if <code class="language-plaintext highlighter-rouge">3</code> is here, and so on. In this example we will reach <code class="language-plaintext highlighter-rouge">6</code>, it means that we found group with length <code class="language-plaintext highlighter-rouge">6</code>, so we can update our answer.</li>
  <li><code class="language-plaintext highlighter-rouge">num = 100</code>, we check if <code class="language-plaintext highlighter-rouge">99</code> is here, it is not. Then we check <code class="language-plaintext highlighter-rouge">101</code>, <code class="language-plaintext highlighter-rouge">102</code> and so on. We found group with <code class="language-plaintext highlighter-rouge">2</code> elements here.</li>
  <li><code class="language-plaintext highlighter-rouge">num = 2</code>, check if <code class="language-plaintext highlighter-rouge">1</code> is here, yes - it is, so we do nothing, it is not the start of our group!</li>
  <li><code class="language-plaintext highlighter-rouge">num = 3, 101, 6, 5, 4</code> are all ignored, because it is not the start of the group.</li>
</ol>

<h4 id="complexity">Complexity</h4>
<p>Even though we have while inside for loop, time complexity is linear: in fact we will work with each number at most twice. If we have consecutive sequence <code class="language-plaintext highlighter-rouge">a, ..., b</code>, then we have one pass over data when we work with number <code class="language-plaintext highlighter-rouge">a</code> and for each number from <code class="language-plaintext highlighter-rouge">a+1</code> to <code class="language-plaintext highlighter-rouge">b</code> we just check in <code class="language-plaintext highlighter-rouge">O(1)</code> if previous number is here. Space complexity is <code class="language-plaintext highlighter-rouge">O(n)</code> as well to keep our set of numbers.</p>

<h4 id="code">Code</h4>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">longestConsecutive</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nums</span><span class="p">):</span>
        <span class="n">set_nums</span><span class="p">,</span> <span class="n">ans</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">nums</span><span class="p">),</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="n">nums</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">num</span> <span class="o">-</span> <span class="mi">1</span> <span class="ow">in</span> <span class="n">set_nums</span><span class="p">:</span> <span class="k">continue</span>
                
            <span class="n">nxt</span> <span class="o">=</span> <span class="n">num</span>
            <span class="k">while</span> <span class="n">nxt</span> <span class="o">+</span> <span class="mi">1</span> <span class="ow">in</span> <span class="n">set_nums</span><span class="p">:</span>
                <span class="n">nxt</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">ans</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">ans</span><span class="p">,</span> <span class="n">nxt</span><span class="o">-</span><span class="n">num</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
                
        <span class="k">return</span> <span class="n">ans</span>
</code></pre></div></div>

  </div><a class="u-url" href="/leetcode/0128.html" hidden></a>
</article>


      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
        <ul class="contact-list">
          <li class="p-name">Dmitry Babichev</li>
          <li><a class="u-email" href="mailto:dimitry008@gmail.com">dimitry008@gmail.com</a></li>
        </ul>
      </div>
      <div class="footer-col">
        <p>Here you can find solution to some algorithmic problems, at the moment it is mainly leetcode problems.
</p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"></ul>
</div>

  </div>

</footer>
</body>

</html>


<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    processEscapes: true
  }
});
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>