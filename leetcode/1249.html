<!DOCTYPE html>
<html lang="en"><head>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Leetcode 1249. Minimum Remove to Make Valid Parentheses | Dmitry Babichev’s webpage</title>
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="Leetcode 1249. Minimum Remove to Make Valid Parentheses" />
<meta name="author" content="Dmitry Babichev" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="https://leetcode.com/problems/minimum-remove-to-make-valid-parentheses" />
<meta property="og:description" content="https://leetcode.com/problems/minimum-remove-to-make-valid-parentheses" />
<meta property="og:site_name" content="Dmitry Babichev’s webpage" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-08-14T19:09:20+02:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Leetcode 1249. Minimum Remove to Make Valid Parentheses" />
<script type="application/ld+json">
{"url":"/leetcode/1249.html","@type":"BlogPosting","headline":"Leetcode 1249. Minimum Remove to Make Valid Parentheses","dateModified":"2021-08-14T19:09:20+02:00","datePublished":"2021-08-14T19:09:20+02:00","mainEntityOfPage":{"@type":"WebPage","@id":"/leetcode/1249.html"},"author":{"@type":"Person","name":"Dmitry Babichev"},"description":"https://leetcode.com/problems/minimum-remove-to-make-valid-parentheses","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="/feed.xml" title="Dmitry Babichev's webpage" />
    






  
  
</head>

    
    <!-- for mathjax support -->
    
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Dmitry Babichev&#39;s webpage</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About</a><a class="page-link" href="/leetcode%20problems/">Leetcode problems</a><a class="page-link" href="/coding%20ideas/">Patterns</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <span>[
  
    
    <a href="/tag/string"><code class="highligher-rouge"><nobr>string</nobr></code>&nbsp;</a>
  
    
    <a href="/tag/stack"><code class="highligher-rouge"><nobr>stack</nobr></code>&nbsp;</a>
  
]</span>

<article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Leetcode 1249. Minimum Remove to Make Valid Parentheses</h1>
    <p class="post-meta"><time class="dt-published" datetime="2021-08-14T19:09:20+02:00" itemprop="datePublished">
        Aug 14, 2021
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p><a href="https://leetcode.com/problems/minimum-remove-to-make-valid-parentheses"> <font color="blue">https://leetcode.com/problems/minimum-remove-to-make-valid-parentheses</font></a></p>

<p>When you see in problem formulation, that it is something about valid parantheses, you should immedietly thing about <strong>stack</strong>, because the very classical problems in this topic uses stack.</p>

<p>Let us traverse our string from left to right and make sure, that we do not have any problems with balance:</p>
<ol>
  <li>If symbol is <code class="language-plaintext highlighter-rouge">(</code>, then we increase balance by <code class="language-plaintext highlighter-rouge">1</code> and add this symbol to <code class="language-plaintext highlighter-rouge">ans</code>.</li>
  <li>If symbol is <code class="language-plaintext highlighter-rouge">)</code>, then we can add this symbol only if balance is positive: if it is <code class="language-plaintext highlighter-rouge">0</code>, then we can not recover our string if we continue.</li>
  <li>If symbol not <code class="language-plaintext highlighter-rouge">(</code> and not <code class="language-plaintext highlighter-rouge">)</code>, we add it to <code class="language-plaintext highlighter-rouge">ans</code>.</li>
</ol>

<p>However, it is not enough to do only one traverse: so far when we finished, we can say that:</p>
<ol>
  <li>Balance is never negative</li>
  <li>But balance in the end should be equal to <code class="language-plaintext highlighter-rouge">0</code>.</li>
</ol>

<p>These <code class="language-plaintext highlighter-rouge">2</code> conditions and <strong>sufficient</strong> and <strong>enough</strong> to have valid parentheses and at the moment only the fist one is fulfilled. What we can do now is to traverse string from the end and keep removing symbols until balance becomes equal to <code class="language-plaintext highlighter-rouge">0</code>. Or we can use our <code class="language-plaintext highlighter-rouge">clean</code> function and apply it to reversed string.</p>

<p><strong>Complexity</strong>: time complexity is <code class="language-plaintext highlighter-rouge">O(n)</code>, we traverse our string twice. Space complexity is also <code class="language-plaintext highlighter-rouge">O(n)</code>.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">minRemoveToMakeValid</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">clean</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">op</span><span class="p">,</span> <span class="n">cl</span><span class="p">):</span>
            <span class="n">balance</span><span class="p">,</span> <span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="s">""</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">s</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="n">op</span><span class="p">:</span>
                    <span class="n">balance</span> <span class="o">+=</span> <span class="mi">1</span>
                    <span class="n">ans</span> <span class="o">+=</span> <span class="n">i</span>
                <span class="k">elif</span> <span class="n">i</span> <span class="o">==</span> <span class="n">cl</span> <span class="ow">and</span> <span class="n">balance</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">balance</span> <span class="o">-=</span> <span class="mi">1</span>
                    <span class="n">ans</span> <span class="o">+=</span> <span class="n">i</span>
                <span class="k">elif</span> <span class="n">i</span> <span class="ow">not</span> <span class="ow">in</span> <span class="s">"()"</span><span class="p">:</span>
                    <span class="n">ans</span> <span class="o">+=</span> <span class="n">i</span>              
            <span class="k">return</span> <span class="n">ans</span>
        
        <span class="k">return</span> <span class="n">clean</span><span class="p">(</span><span class="n">clean</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="s">"("</span><span class="p">,</span> <span class="s">")"</span><span class="p">)[::</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="s">")"</span><span class="p">,</span> <span class="s">"("</span><span class="p">)[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</code></pre></div></div>

<p>If you like the solution, you can <strong>upvote</strong> it on leetcode discussion section:<a href="https://leetcode.com/problems/minimum-remove-to-make-valid-parentheses/discuss/1072642/python-two-pass-o(n)-solution-explained"> <font color="blue">Problem 1249</font></a></p>

  </div><a class="u-url" href="/leetcode/1249.html" hidden></a>
</article>


      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
        <ul class="contact-list">
          <li class="p-name">Dmitry Babichev</li>
          <li><a class="u-email" href="mailto:dimitry008@gmail.com">dimitry008@gmail.com</a></li>
        </ul>
      </div>
      <div class="footer-col">
        <p>Here you can find solution to some algorithmic problems, at the moment it is mainly leetcode problems.
</p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"></ul>
</div>

  </div>

</footer>
</body>

</html>


<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    processEscapes: true
  }
});
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>